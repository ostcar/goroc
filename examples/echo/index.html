<html>
  <body>
    <input id="input1" placeholder="Enter some text">
    <input id="input2" placeholder="Enter some text">
    <div id="output"></div>
    <script src="./host.js"></script>
    <script>
      const both_inputs = document.querySelectorAll("input");
      const input1 = document.getElementById("input1");
      const input2 = document.getElementById("input2");
      const output = document.getElementById("output");

      load_wasm("./echo.wasm").then((run_roc) => {
        function eventFn() {
          run_roc(input1.value, input2.value, (string_from_roc) => {
            output.textContent = string_from_roc;
          });
        }

        both_inputs.forEach(el => el.addEventListener('input', eventFn));
        eventFn();
      });      
    </script>
  </body>
</html>
